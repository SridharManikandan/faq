{"hash":"598cb2497ad891189196726f5d918bc5b3b3ca75","data":{"docs":{"title":"Resolving image render and export issue on ASP.NET Core","date":"May 25, 2022","content":"\r\n## How to resolve the image rendering and exporting issue with ASP.NET Core Authentication middleware\r\n\r\nYou could not add the authentication for export and image rendering requests from the Report Viewer and Report Designer. So, you have to ignore the authentication for the `GetResource` and `PostFormReportAction` methods using the `[AllowAnonymous]` attribute.\r\n\r\nRegarding security, you will not have any issues in the aspect of security by ignoring the authentication for this `GetResource` and `PostFormReportAction` requests.\r\nThese requests are used to retrieve the file format content from the server and used with our control based on the framework suggestion to have better experience in usability in downloads and avoid the delay of rendering images with reports.\r\n\r\nThese requests will be used at the time of exporting and image rendering only, this cannot be used once again by others. This approach is similar to the [Amazon Simple Storage Service (Amazon S3)](https://dev.to/idrisrampurawala/share-your-aws-s3-private-content-with-others-without-making-it-public-4k59) how they are providing access to share the private files,\r\n\r\nYou can get more details of the implementation approach from these steps,\r\n\r\n1. Before initiating a non-authentication request, we will send the authenticate request to the server to generate the export and image content.\r\n2. The authenticated request will generate the exported with a unique server for the downloadable content and unique id will be shared with the client once the content is ready.\r\n3. After completing the process of generation, we will get the runtime unique key generated from the client and we will do the non-authentication request post action from the client with a unique key to the content for download and image rendering.\r\n4. Once the content revival initiated with the server, we could not make use of this URL again to get the generated content once again from the server because the files will be deleted with the server after initiating the action.\r\n\r\nYou can find the following code reference for using the `[AllowAnonymous]` attribute and sample from this [link](https://www.syncfusion.com/downloads/support/directtrac/general/ze/BasicAuthApp-249936407).\r\n\r\n```csharp\r\n[Authorize]\r\n    [Route(\"api/[controller]/[action]/{id?}\")]\r\n    public class ReportApiController : ControllerBase, IReportController\r\n    {\r\n        …….\r\n        …….\r\n\r\n        [ActionName(\"GetResource\")]\r\n        [AcceptVerbs(\"GET\")]\r\n        [AllowAnonymous]\r\n        public object GetResource(ReportResource resource)\r\n        {\r\n            return ReportHelper.GetResource(resource, this, _cache);\r\n        }\r\n\r\n        [HttpPost]\r\n        [AllowAnonymous]\r\n        public object PostFormReportAction()\r\n        {\r\n            return ReportHelper.ProcessReport(null, this, this._cache);\r\n        }\r\n\r\n        …….\r\n        …….\r\n    }\r\n```","description":"This section describes how to resolve the image rendering and exporting issue with ASP.NET Core Authentication middleware"}},"context":{}}